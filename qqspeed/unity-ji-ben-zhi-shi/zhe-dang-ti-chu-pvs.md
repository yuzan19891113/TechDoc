# 遮挡剔除\(PVS\)

## 基本思路

遮挡剔除过程将使用虚拟相机构建潜在可见对象集的层级视图，应用于整个场景。运行时各相机使用这些数据来确定可见和不可见物体。有了该信息，Unity 将确保仅发送可见对象进行渲染，从而减少绘制调用的次数，提高游戏性能。

遮挡剔除的数据由单元格组成。每个单元格是场景中整个包围区域的细分部分。更具体来说，单元格组成一个二叉树。遮挡剔除 \(Occlusion Culling\) 使用两棵树，一个用于视图单元格 \(View Cells\)（静态对象 \(Static Objects\)），另一个用于目标单元格 \(Target Cells\)（移动对象 \(Moving Objects\)）。视图单元格 \(View Cells\) 映射到定义可见静态对象的索引列表，使静态对象的剔除结果更精确。

创建对象时要切记这一点，因为对象大小需要与单元格大小达到良好平衡。理论上说，单元格不应比对象小太多，同时对象也不应占用太多单元格。有时可以将大对象分成几个小块，改善剔除效果。也可以合并一些小对象，减少绘制调用。只要都在同一个单元格内，遮挡剔除就不会受影响。单元格集合和确定哪些单元格可以在任何其他单元格中可见的可见性信息被称为 PVS（潜在可见集合 \(Potentially Visible Set\)）。

